<html>
	<head>
		<style type="text/css">
            #game {
                border: 1px solid black;
            }
        </style>
	</head>
	<body>
        <div id="game"></div>
        <script type="text/javascript" src="js/crafty.js"></script>

        <script>
        	var viewWidth = 600,
                viewHeight = 600;

			Crafty.init(viewWidth, viewHeight, document.getElementById('game'));            


			//Walls
            Crafty.e('2D, DOM, Solid, Color')
                .attr({x: 0, y: 0, w: 1, h: viewHeight})
                .color('#F00')

            Crafty.e('2D, DOM, Solid, Color')
                .attr({x: 599, y: 0, w: 1, h: viewHeight})
                .color('#F00')


            Crafty.e('2D, DOM, Solid, Color')
                .attr({x: 0, y: 0, w: viewWidth, h: 1})
                .color('#F00')

            Crafty.e('2D, DOM, Solid, Color')
                .attr({x: 0, y: 599, w: viewWidth, h: 1})
                .color('#F00')


            //Terrain
            Crafty.e('2D, DOM, Solid, Color')
            	.attr({x: 50, y: 450, w: 70, h: 40})
            	.color('#f4a460')

            Crafty.e('2D, DOM, Solid, Color')
            	.attr({x: 120, y: 200, w: 80, h: 90})
            	.color('#f4a460')

            Crafty.e('2D, DOM, Solid, Color')
            	.attr({x: 350, y: 40, w: 30, h: 60})
            	.color('#f4a460')

            Crafty.e('2D, DOM, Solid, Color')
            	.attr({x: 500, y: 400, w: 50, h: 50})
            	.color('#f4a460')

            //PC component
        	Crafty.c('PlayerCharacter', {
                init: function() {
                    this.requires('2D, DOM, Player, Collision, Fourway, Solid, Color')
                        .attr({w: 30, h: 30})
                        .fourway(300)
                        .color('#000000')
                        .stopOnSolids()
       	        },
       	        stopOnSolids: function() {
                    this.onHit('Solid', this.stopMovement);
                    return this;
                },
                stopMovement: function(hit_vals) {
                    this.x -= this.dx;
                    this.y -= this.dy;
                }
            });

            Crafty.c('PlayerAttack', {
            	init: function() {
            		this.requires('2D, DOM, PAttack, Collision, Color')
            		.attr({w: 30, h: 30})
            	}
            });

            Crafty.c('Enemy', {
            	init: function() {
            		this.requires('2D, DOM, Enemy, Collision, Motion, Solid, Color')
            			.color('#d3d3d3')
            			.attr({w:30, h: 30})
            			.stopOnSolids()

            	},
            	stopOnSolids: function() {
                    this.onHit('Solid', this.stopMovement);
                    return this;
                },
                stopMovement: function(hit_vals) {
                    this.x -= this.dx;
                    this.y -= this.dy;
                }
            });

            var enemies = [];

            enemies.push(Crafty.e('Enemy').attr({x: 5, y: 5}))
            enemies.push(Crafty.e('Enemy').attr({x: 565, y: 400}))
            enemies.push(Crafty.e('Enemy').attr({x: 200, y: 565}))

            Crafty.e('PlayerCharacter').attr({x: 285, y:285});

        </script>
    </body>

</html>